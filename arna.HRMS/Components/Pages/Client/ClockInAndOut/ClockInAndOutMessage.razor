@namespace arna.HRMS.Components.Pages.Attendance
@using Microsoft.AspNetCore.Components.Forms
@using arna.HRMS.Models.ViewModels
@using arna.HRMS.Models.ViewModels.Attendance

<EditForm Model="Model" OnValidSubmit="HandleSubmit">
    <DataAnnotationsValidator />

    <div class="mb-3">
        <label class="form-label fw-semibold">Note</label>

        <InputTextArea class="form-control"
                       @bind-Value="Model.Notes"
                       rows="3"
                       placeholder="Write note..." />

        <ValidationMessage For="@(() => Model.Notes)" />
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">
            Save
        </button>

        <button type="button"
                class="btn btn-secondary"
                @onclick="OnCancel">
            Cancel
        </button>
    </div>
</EditForm>

@code {
    [Parameter, EditorRequired]
    public AttendanceViewModel Model { get; set; } = default!;

    [Parameter, EditorRequired]
    public EventCallback OnSubmit { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private async Task HandleSubmit()
    {
        await OnSubmit.InvokeAsync();
    }
}
